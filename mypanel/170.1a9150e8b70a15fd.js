"use strict";(self.webpackChunkopenmediavault_workbench=self.webpackChunkopenmediavault_workbench||[]).push([[170],{6170:(de,T,n)=>{n.r(T),n.d(T,{StorageModule:()=>ue});var R=n(6895),E=n(9394),q=n(3918),v=n(5166),e=n(8584),w=n(9076),_=n(3642),l=n(7489),b=n(7169),J=n(2141),O=n(8071),F=n(4564),o=n(4650),d=n(7839);let Q=(()=>{class t{constructor(a,s){this.dialogService=a,this.router=s,this.config={stateId:"c2d59665-d12a-4166-91fc-bdf4707ee539",autoReload:!1,remoteSorting:!0,remotePaging:!0,sorters:[{dir:"asc",prop:"canonicaldevicefile"}],columns:[{name:(0,e.J)("Device"),prop:"canonicaldevicefile",flexGrow:1,sortable:!0},{name:(0,e.J)("Device Symlinks"),prop:"devicelinks",flexGrow:2,sortable:!1,hidden:!0,cellTemplateName:"unsortedList"},{name:(0,e.J)("Model"),prop:"model",flexGrow:1,sortable:!0},{name:(0,e.J)("Serial Number"),prop:"serialnumber",flexGrow:1,sortable:!0},{name:(0,e.J)("WWN"),prop:"wwn",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Vendor"),prop:"vendor",flexGrow:1,sortable:!0},{name:(0,e.J)("Capacity"),prop:"size",flexGrow:1,sortable:!0,cellTemplateName:"binaryUnit"}],store:{proxy:{service:"DiskMgmt",get:{method:"getListBg",task:!0}}},actions:[{template:"edit",click:this.onEdit.bind(this)},{type:"iconButton",icon:"eraser",tooltip:(0,e.J)("Wipe"),enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"and",arg0:{operator:"falsy",arg0:{prop:"isroot"}},arg1:{operator:"falsy",arg0:{prop:"isreadonly"}}}]},click:this.onWipe.bind(this)},{type:"iconButton",icon:"search",tooltip:(0,e.J)("Scan for new devices"),confirmationDialogConfig:{template:"confirmation",message:(0,e.J)("It may take a while to detect the new devices, thus it might be necessary to reload the table several times. Do you want to proceed?")},execute:{type:"request",request:{service:"DiskMgmt",method:"rescan",progressMessage:(0,e.J)("Scanning for new devices ...")}}}]}}onEdit(a,s){const i=s.selection.first();let c;c=(0,b.t)(l.get(i,"hdparm.uuid"))?"/storage/disks/hdparm/edit/{{ hdparm.uuid }}":"/storage/disks/hdparm/create/{{ devicefile | encodeuricomponent }}",this.router.navigate([(0,b.WU)(c,i)])}onWipe(a,s){const i=s.selection.first();this.dialogService.open(J.h,{data:{template:"confirmation-critical",title:(0,e.J)("Wipe"),message:(0,b.WU)((0,e.J)("Do you really want to wipe the device {{ canonicaldevicefile }}? All data will be lost."),i)}}).afterClosed().subscribe(c=>{c&&this.dialogService.open(J.h,{data:{template:"confirmation",title:(0,e.J)("Wipe"),message:(0,e.J)("Please choose the method to wipe the device."),buttons:[{text:(0,e.J)("Cancel"),dialogResult:!1,autofocus:!0},{text:(0,e.J)("Quick"),dialogResult:"quick",class:"omv-background-color-pair-red"},{text:(0,e.J)("Secure"),dialogResult:"secure",class:"omv-background-color-pair-red"}]}}).afterClosed().subscribe(f=>{f&&this.dialogService.open(O.S,{width:"75%",data:{title:(0,e.J)("Wiping device"),startOnInit:!0,request:{service:"DiskMgmt",method:"wipe",params:{devicefile:i.devicefile,secure:"secure"===f}}}})})})}}return t.\u0275fac=function(a){return new(a||t)(o.Y36(F.x),o.Y36(v.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-datatable-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[d.N],encapsulation:2}),t})();var m=n(7713),u=n(6316);let P=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"DiskMgmt",get:{method:"getHdParm",params:{uuid:"{{ _routeParams.uuid }}"}},post:{method:"setHdParm"}},fields:[{type:"confObjUuid"},{type:"select",name:"devicefile",label:(0,e.J)("Device"),valueField:"devicefile",textField:"description",disabled:!0,value:"{{ _routeParams.devicefile }}",store:{proxy:{service:"DiskMgmt",get:{method:"enumerateDevices"}}}},{type:"select",name:"apm",label:(0,e.J)("Advanced Power Management"),value:0,store:{data:[{text:(0,e.J)("Disabled"),value:0},{text:(0,e.J)("1 - Minimum power usage with standby (spindown)"),value:1},{text:(0,e.J)("64 - Intermediate power usage with standby"),value:64},{text:(0,e.J)("127 - Intermediate power usage with standby"),value:127},{text:(0,e.J)("128 - Minimum power usage without standby (no spindown)"),value:128},{text:(0,e.J)("192 - Intermediate power usage without standby"),value:192},{text:(0,e.J)("254 - Maximum performance, maximum power usage"),value:254},{text:(0,e.J)("255 - Disabled"),value:255}]}},{type:"select",name:"aam",label:(0,e.J)("Advanced Acoustic Management"),value:0,store:{data:[{text:(0,e.J)("Disabled"),value:0},{text:(0,e.J)("Minimum performance, minimum acoustic output"),value:128},{text:(0,e.J)("Maximum performance, maximum acoustic output"),value:254}]}},{type:"select",name:"spindowntime",label:(0,e.J)("Spindown time"),value:0,store:{data:[{text:(0,e.J)("Disabled"),value:0},{text:(0,e.J)("5 minutes"),value:60},{text:(0,e.J)("10 minutes"),value:120},{text:(0,e.J)("20 minutes"),value:240},{text:(0,e.J)("30 minutes"),value:241},{text:(0,e.J)("60 minutes"),value:242},{text:(0,e.J)("120 minutes"),value:244},{text:(0,e.J)("180 minutes"),value:246},{text:(0,e.J)("240 minutes"),value:248},{text:(0,e.J)("300 minutes"),value:250},{text:(0,e.J)("330 minutes"),value:251}]}},{type:"checkbox",name:"writecache",label:(0,e.J)("Enable write-cache"),hint:(0,e.J)("This function is effective only if the hard drive supports it."),value:!1}],buttons:[{template:"submit",execute:{type:"url",url:"/storage/disks"}},{template:"cancel",execute:{type:"url",url:"/storage/disks"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})();var D=n(7582),k=n(727),W=n(5677),L=n(9670);class g{constructor(r){this.mkfsConfigService=r,this.subscriptions=new k.w0,this.config={stateId:"66d9d2ce-2fee-11ea-8386-e3eba0cf8f78",autoReload:1e4,remoteSorting:!0,remotePaging:!0,sorters:[{dir:"asc",prop:"canonicaldevicefile"}],store:{proxy:{service:"FileSystemMgmt",get:{method:"getListBg",task:!0}}},rowId:"devicefile",columns:[{name:(0,e.J)("Device"),prop:"canonicaldevicefile",flexGrow:1,sortable:!0},{name:(0,e.J)("Tags"),prop:"comment",cellTemplateName:"chip",cellTemplateConfig:{separator:","},flexGrow:1,hidden:!0,sortable:!0},{name:(0,e.J)("Device(s)"),prop:"devicefiles",flexGrow:2,sortable:!1,hidden:!0,cellTemplateName:"unsortedList"},{name:(0,e.J)("Identify As"),prop:"",flexGrow:1,cellTemplateName:"template",hidden:!0,cellTemplateConfig:"{% if uuid %}UUID={{ uuid }}{% else %}{{ devicefile }}{% endif %}"},{name:(0,e.J)("Label"),prop:"label",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Parent Device"),prop:"parentdevicefile",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Type"),prop:"type",flexGrow:1,sortable:!0,cellTemplateName:"chip",cellTemplateConfig:{template:"{{ type | upper }}"}},{name:(0,e.J)("Total"),prop:"size",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"template",cellTemplateConfig:'{{ size | tobytes | binaryunit | notavailable("-") }}'},{name:(0,e.J)("Available"),prop:"available",flexGrow:1,sortable:!0,cellTemplateName:"template",cellTemplateConfig:'{{ available | tobytes | binaryunit | notavailable("-") }}'},{name:(0,e.J)("Used"),prop:"percentage",flexGrow:1,sortable:!0,cellTemplateName:"progressBar",cellTemplateConfig:{text:'{{ used | tobytes | binaryunit | notavailable("-") }}',warningThreshold:"{{ usagewarnthreshold | default(0) }}"}},{name:(0,e.J)("Mounted"),prop:"mounted",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"},{name:(0,e.J)("Mount Point"),prop:"mountpoint",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Mount Options"),prop:"mountopts",flexGrow:1,sortable:!1,hidden:!0,cellTemplateName:"template",cellTemplateConfig:'{{ mountopts | split(",") | map("strip") | join(", ") }}'},{name:(0,e.J)("Referenced"),prop:"_used",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"},{name:(0,e.J)("Status"),prop:"status",flexGrow:1,sortable:!0,cellTemplateName:"chip",cellTemplateConfig:{map:{1:{value:(0,e.J)("Online"),class:"omv-background-color-pair-success"},2:{value:(0,e.J)("Initializing"),class:"omv-background-color-pair-info"},3:{value:(0,e.J)("Missing"),class:"omv-background-color-pair-error"}}}}],actions:[{type:"iconButton",text:(0,e.J)("Mount"),icon:"start",tooltip:(0,e.J)("Mount an existing file system."),execute:{type:"url",url:"/storage/filesystems/mount"}},{type:"menu",icon:"add",tooltip:(0,e.J)("Create and mount a file system."),actions:[]},{template:"edit",enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"truthy",arg0:{prop:"propfstab"}}]},execute:{type:"url",url:"/storage/filesystems/edit/{{ _selected[0].canonicaldevicefile | encodeuricomponent }}"}},{type:"iconButton",icon:"expand",tooltip:(0,e.J)("Grow"),enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"eq",arg0:{prop:"status"},arg1:1},{operator:"truthy",arg0:{prop:"propresize"}},{operator:"falsy",arg0:{prop:"_readonly"}}]},confirmationDialogConfig:{template:"confirmation",message:(0,e.J)("Do you really want to resize the file system? You have to do that after a RAID has been grown for example.")},execute:{type:"request",request:{service:"FileSystemMgmt",method:"grow",params:{id:"{{ _selected[0].uuid }}"}}}},{type:"iconButton",icon:"mdi:chart-pie",tooltip:(0,e.J)("Quota"),enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"eq",arg0:{prop:"status"},arg1:1},{operator:"truthy",arg0:{prop:"propquota"}},{operator:"truthy",arg0:{prop:"mounted"}},{operator:"falsy",arg0:{prop:"_readonly"}}]},execute:{type:"url",url:"/storage/filesystems/quota/{{ _selected[0].uuid }}"}},{type:"iconButton",icon:"details",tooltip:(0,e.J)("Show details"),enabledConstraints:{minSelected:1,maxSelected:1},execute:{type:"url",url:"/storage/filesystems/details/{{ _selected[0].canonicaldevicefile | encodeuricomponent }}"}},{template:"delete",icon:"stop",tooltip:(0,e.J)("Unmount"),enabledConstraints:{constraint:[{operator:"if",arg0:{operator:"has",arg0:{prop:"_used"}},arg1:{operator:"falsy",arg0:{prop:"_used"}}},{operator:"if",arg0:{operator:"has",arg0:{prop:"_readonly"}},arg1:{operator:"falsy",arg0:{prop:"_readonly"}}},{operator:"ne",arg0:{prop:"status"},arg1:2},{operator:"truthy",arg0:{prop:"propfstab"}}]},confirmationDialogConfig:{title:(0,e.J)("Unmount"),message:(0,e.J)("Do you really want to unmount this file system? Please make sure that the file system is not used by any service before unmounting. Note, the file system will not be deleted by this action.")},execute:{type:"request",request:{service:"FileSystemMgmt",method:"umount",params:{id:"{{ devicefile }}",fstab:!0},progressMessage:(0,e.J)("Please wait, unmounting the file system ...")}}}]}}ngOnInit(){this.subscriptions.add(this.mkfsConfigService.configs$.subscribe(r=>{this.config.actions[1].actions=l.chain(r).sortBy(["text"]).map(a=>({type:"button",text:a.text,execute:{type:"url",url:a.url}})).value()}))}}g.\u0275fac=function(r){return new(r||g)(o.Y36(L.f))},g.\u0275cmp=o.Xpm({type:g,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(r,a){1&r&&o._UZ(0,"omv-intuition-datatable-page",0),2&r&&o.Q6J("config",a.config)},dependencies:[d.N],encapsulation:2}),(0,D.gn)([(0,W.fs)(),(0,D.w6)("design:type",k.w0)],g.prototype,"subscriptions",void 0);var j=n(3145);let Z=(()=>{class t{constructor(){this.config={hasCopyToClipboardButton:!0,hasReloadButton:!0,request:{service:"FileSystemMgmt",get:{method:"getDetails",params:{devicefile:"{{ _routeParams.devicefile }}"}}},buttons:[{template:"back",url:"/storage/filesystems"}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-text-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[j.B],encapsulation:2}),t})(),z=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"FsTab",get:{method:"getByFsName",params:{fsname:"{{ _routeParams.fsname }}"}},post:{method:"set"}},fields:[{type:"confObjUuid"},{type:"hidden",name:"fsname"},{type:"hidden",name:"dir"},{type:"hidden",name:"type"},{type:"hidden",name:"opts"},{type:"hidden",name:"freq"},{type:"hidden",name:"passno"},{type:"hidden",name:"hidden"},{type:"textInput",name:"devicefile",value:"{{ _routeParams.fsname }}",label:(0,e.J)("Device"),disabled:!0,submitValue:!1},{type:"select",name:"usagewarnthreshold",label:(0,e.J)("Usage Warning Threshold"),value:85,store:{data:[[0,(0,e.J)("Disabled")],[50,"50%"],[75,"75%"],[80,"80%"],[85,"85%"],[90,"90%"],[95,"95%"]]},validators:{required:!0},hint:(0,e.J)("Send a notification when the used file system capacity exceeds the specified threshold.")},{type:"tagInput",name:"comment",label:(0,e.J)("Tags"),value:""}],buttons:[{template:"submit",execute:{type:"url",url:"/storage/filesystems"}},{template:"cancel",execute:{type:"url",url:"/storage/filesystems"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})(),X=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"FileSystemMgmt",post:{method:"setMountPoint"}},fields:[{type:"select",name:"id",label:(0,e.J)("File system"),placeholder:(0,e.J)("Select a file system ..."),hint:(0,e.J)("The file system to mount."),validators:{required:!0},valueField:"devicefile",textField:"description",store:{proxy:{service:"FileSystemMgmt",get:{method:"getMountCandidates"}},sorters:[{dir:"asc",prop:"devicefile"}]}},{type:"select",name:"usagewarnthreshold",label:(0,e.J)("Usage Warning Threshold"),value:85,store:{data:[[0,(0,e.J)("Disabled")],[50,"50%"],[75,"75%"],[80,"80%"],[85,"85%"],[90,"90%"],[95,"95%"]]},validators:{required:!0},hint:(0,e.J)("Send a notification when the used file system capacity exceeds the specified threshold.")},{type:"tagInput",name:"comment",label:(0,e.J)("Tags"),value:""}],buttons:[{template:"submit",execute:{type:"url",url:"/storage/filesystems"}},{template:"cancel",execute:{type:"url",url:"/storage/filesystems"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})(),Y=(()=>{class t{constructor(){this.config={stateId:"3f8c62be-11ba-4d37-8683-cbe44c049955",autoReload:!1,remoteSorting:!1,remotePaging:!1,hasSearchField:!0,sorters:[{dir:"asc",prop:"name"}],store:{proxy:{service:"Quota",get:{method:"get",params:{uuid:"{{ _routeParams.uuid }}"}}}},columns:[{name:(0,e.J)("Name"),prop:"name",flexGrow:1,sortable:!0},{name:(0,e.J)("Type"),prop:"type",flexGrow:1,sortable:!0,cellTemplateName:"chip",cellTemplateConfig:{map:{user:{value:(0,e.J)("User")},group:{value:(0,e.J)("Group")}}}},{name:(0,e.J)("Used capacity"),prop:"bused",flexGrow:1,sortable:!0},{name:(0,e.J)("Quota"),prop:"bhardlimit",flexGrow:1,sortable:!0,cellTemplateName:"template",cellTemplateConfig:"{{ bhardlimit }} {{ bunit }}"}],actions:[{template:"edit",execute:{type:"url",url:"/storage/filesystems/quota/{{ _routeParams.uuid }}/edit/{{ _selected[0].type }}/{{ _selected[0].name }}"}}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-datatable-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[d.N],encapsulation:2}),t})(),H=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"Quota",get:{method:"getByTypeName",params:{uuid:"{{ _routeParams.uuid }}",type:"{{ _routeParams.type }}",name:"{{ _routeParams.name }}"}},post:{method:"setByTypeName",params:{uuid:"{{ _routeParams.uuid }}"}}},fields:[{type:"select",name:"type",label:(0,e.J)("Type"),disabled:!0,store:{data:[["user",(0,e.J)("User")],["group",(0,e.J)("Group")]]}},{type:"textInput",name:"name",label:(0,e.J)("Name"),disabled:!0},{type:"container",fields:[{type:"numberInput",name:"bhardlimit",label:(0,e.J)("Quota"),value:0,validators:{min:0,patternType:"integer",required:!0},flex:75},{type:"select",name:"bunit",label:(0,e.J)("Unit"),value:"GiB",store:{data:[["KiB","KiB"],["MiB","MiB"],["GiB","GiB"],["TiB","TiB"]]},validators:{required:!0},flex:25}]}],buttons:[{template:"submit",execute:{type:"url",url:"/storage/filesystems/quota/{{ _routeParams.uuid }}"}},{template:"cancel",execute:{type:"url",url:"/storage/filesystems/quota/{{ _routeParams.uuid }}"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})();var V=n(515),K=n(1884),x=n(8746),$=n(262),N=n(8897),G=n(8001),I=n(7161),M=n(2598),ee=n(5294);let te=(()=>{class t extends m.Fy{constructor(a,s,i,c){super(),this.blockUiService=a,this.dialogService=s,this.notificationService=i,this.rpcService=c,this.config={fields:[{type:"sharedFolderSelect",name:"uuid",label:(0,e.J)("Name"),disabled:!0,hasCreateButton:!1,value:"{{ _routeParams.uuid }}"},{type:"folderBrowser",name:"file",label:(0,e.J)("Relative path"),dirType:"sharedfolder",dirRefIdField:"uuid",readonly:!0,value:"/"},{type:"checkbox",name:"replace",label:(0,e.J)("Replace"),hint:(0,e.J)("Replace all existing permissions."),value:!0},{type:"checkbox",name:"recursive",label:(0,e.J)("Recursive"),hint:(0,e.J)("Apply permissions to files and subfolders."),value:!1},{type:"divider",title:(0,e.J)("File owner and group")},{type:"container",fields:[{type:"select",name:"owner",label:(0,e.J)("Owner"),hint:(0,e.J)("Permissions of owner."),valueField:"name",textField:"name",store:{proxy:{service:"UserMgmt",get:{method:"enumerateAllUsers"}},sorters:[{dir:"asc",prop:"name"}]},value:"root"},{type:"select",name:"userperms",label:(0,e.J)("Permissions"),store:{data:[[0,(0,e.J)("None")],[1,(0,e.J)("Execute only")],[2,(0,e.J)("Write only")],[3,(0,e.J)("Write/Execute")],[4,(0,e.J)("Read only")],[5,(0,e.J)("Read/Execute")],[6,(0,e.J)("Read/Write")],[7,(0,e.J)("Read/Write/Execute")]]},value:7}]},{type:"container",fields:[{type:"select",name:"group",label:(0,e.J)("Group"),hint:(0,e.J)("Permissions of group."),valueField:"name",textField:"name",store:{proxy:{service:"UserMgmt",get:{method:"enumerateAllGroups"}},sorters:[{dir:"asc",prop:"name"}]},value:"users"},{type:"select",name:"groupperms",label:(0,e.J)("Permissions"),store:{data:[[0,(0,e.J)("None")],[1,(0,e.J)("Execute only")],[2,(0,e.J)("Write only")],[3,(0,e.J)("Write/Execute")],[4,(0,e.J)("Read only")],[5,(0,e.J)("Read/Execute")],[6,(0,e.J)("Read/Write")],[7,(0,e.J)("Read/Write/Execute")]]},value:7}]},{type:"select",name:"otherperms",label:(0,e.J)("Others"),hint:(0,e.J)("Permissions of others (e.g. anonymous FTP users)."),store:{data:[[0,(0,e.J)("None")],[1,(0,e.J)("Execute only")],[2,(0,e.J)("Write only")],[3,(0,e.J)("Write/Execute")],[4,(0,e.J)("Read only")],[5,(0,e.J)("Read/Execute")],[6,(0,e.J)("Read/Write")],[7,(0,e.J)("Read/Write/Execute")]]},value:0},{type:"divider",title:(0,e.J)("File access control lists")},{type:"datatable",name:"perms",label:(0,e.J)("User/Group permissions"),limit:5,hasActionBar:!0,hasSearchField:!0,selectionType:"none",columns:[{name:(0,e.J)("Name"),prop:"name",flexGrow:2,sortable:!0},{name:(0,e.J)("Type"),prop:"type",flexGrow:1,sortable:!0,cellTemplateName:"chip",cellTemplateConfig:{map:{user:{value:(0,e.J)("User")},group:{value:(0,e.J)("Group")}}}},{name:(0,e.J)("System account"),prop:"system",flexGrow:1,cellTemplateName:"checkIcon",sortable:!0},{name:(0,e.J)("Permissions"),prop:"perms",flexGrow:3,sortable:!0,cellTemplateName:"buttonToggle",cellTemplateConfig:{buttons:[{value:"7",text:(0,e.J)("Read/Write")},{value:"5",text:(0,e.J)("Read-only")},{value:"0",text:(0,e.J)("No access")}]}}],actions:[{icon:"mdi:transfer",tooltip:(0,e.J)("Copy permissions"),click:this.onCopyPermissions.bind(this)}],sorters:[{dir:"asc",prop:"system"},{dir:"asc",prop:"name"}],value:[]}],buttons:[{template:"submit",execute:{type:"click",click:this.onSubmit.bind(this)}},{template:"cancel",execute:{type:"url",url:"/storage/shared-folders"}}]}}ngOnInit(){const a=this.page;a.editing=!0,a.loadData=()=>this.loadData("/"),a.afterViewInitEvent.subscribe(()=>{a.form.formGroup.get("file")?.valueChanges.pipe((0,K.x)()).subscribe(i=>this.loadData(i))})}onCopyPermissions(){const a=l.get(this.page.routeParams,"uuid"),s=this.page.getFormValues();this.dialogService.open(J.h,{data:{template:"confirmation",title:(0,e.J)("Copy permissions"),message:(0,e.J)("Do you really want to copy the permissions from the shared folder?")}}).afterClosed().subscribe(i=>{i&&(this.blockUiService.start((0,N.Iu)((0,e.J)("Please wait, updating the permissions ..."))),this.rpcService.request("ShareMgmt","getPrivileges",{uuid:a}).pipe((0,x.x)(()=>{this.blockUiService.stop()})).subscribe(c=>{const f=l.cloneDeep(s.perms);l.forEach(f,h=>{h.perms=null}),l.forEach(c,h=>{const y=l.find(f,{name:h.name,type:h.type});l.isUndefined(y)||(y.perms=h.perms)}),this.page.setFormValues({perms:f},!1)}))})}onSubmit(a,s){this.blockUiService.start((0,N.Iu)((0,e.J)("Please wait, updating access control lists ...")));const i=l.map(l.reject(s.perms,["perms",null]),y=>(y.perms=l.toInteger(y.perms),y)),c=l.filter(i,["type","user"]),f=l.filter(i,["type","group"]),h=l.merge({users:c,groups:f},l.omit(s,"perms"));this.rpcService.requestTask("ShareMgmt","setFileACL",h).pipe((0,x.x)(()=>{this.blockUiService.stop()})).subscribe(()=>{this.page.markAsPristine(),this.notificationService.show(G.k.success,l.get(this.page.routeConfig,"data.notificationTitle"))})}loadData(a){const s=l.get(this.page.routeParams,"uuid");this.page.loading=!0,this.rpcService.request("ShareMgmt","getFileACL",{uuid:s,file:a}).pipe((0,$.K)(i=>(this.page.error=i,V.E)),(0,x.x)(()=>{this.page.loading=!1})).subscribe(i=>{l.map(i.acl.users,c=>l.set(c,"type","user")),l.map(i.acl.groups,c=>l.set(c,"type","group")),this.page.setFormValues({owner:i.owner,group:i.group,userperms:i.acl.user,groupperms:i.acl.group,otherperms:i.acl.other,perms:l.concat(i.acl.users,i.acl.groups)})})}}return t.\u0275fac=function(a){return new(a||t)(o.Y36(ee.A),o.Y36(F.x),o.Y36(I.g),o.Y36(M.G))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})();var S=n(4696);let ae=(()=>{class t{constructor(){this.config={tabs:[{label:(0,e.J)("Snapshots"),type:"datatable",config:{stateId:"beae0ef8-bfff-11ed-8ff5-17628e8426cf",autoReload:!1,limit:0,hasFooter:!0,hasSearchField:!0,selectionType:"multi",columns:[{name:(0,e.J)("ID"),prop:"id",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Name"),prop:"name",flexGrow:2,sortable:!0},{name:(0,e.J)("Creation Time"),prop:"otimets",flexGrow:1,sortable:!0,cellTemplateName:"localeDateTime"},{name:(0,e.J)("UUID"),prop:"uuid",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Parent UUID"),prop:"parent_uuid",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Relative Path"),prop:"path",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Absolute Path"),prop:"abspath",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Referenced"),prop:"_used",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"}],sorters:[{dir:"asc",prop:"name"}],store:{proxy:{service:"ShareMgmt",get:{method:"enumerateAllSnapshots"}}},actions:[{type:"iconButton",icon:"share",tooltip:(0,e.J)("Share"),enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"falsy",arg0:{prop:"_used"}}]},execute:{type:"request",request:{service:"ShareMgmt",method:"fromSnapshot",params:{uuid:"{{ sharedfolderref }}",id:"{{ id }}"},successNotification:(0,e.J)("The shared folder {{ _selected[0].name }} was successfully created.")}}},{template:"delete",enabledConstraints:{constraint:[{operator:"falsy",arg0:{prop:"_used"}}]},execute:{type:"request",request:{service:"ShareMgmt",method:"deleteSnapshot",params:{uuid:"{{ sharedfolderref }}",id:"{{ id }}"}}}}],buttons:[{template:"back",url:"/storage/shared-folders"}]}},{label:(0,e.J)("Scheduled Tasks"),type:"datatable",config:{stateId:"d1f00a2c-c002-11ed-9171-6f9f7fbdd288",autoReload:!1,limit:0,hasFooter:!0,hasSearchField:!0,selectionType:"multi",columns:[{name:(0,e.J)("Enabled"),prop:"enable",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"},{name:(0,e.J)("Scheduling"),prop:"",flexGrow:1,cellTemplateName:"template",cellTemplateConfig:'{% if execution == "exactly" %}{% set _minute = minute %}{% set _hour = hour %}{% set _dayofmonth = dayofmonth %}{% if everynminute %}{% set _minute %}*/{{ minute }}{% endset %}{% endif %}{% if everynhour %}{% set _hour %}*/{{ hour }}{% endset %}{% endif %}{% if everyndayofmonth %}{% set _dayofmonth %}*/{{ dayofmonth }}{% endset %}{% endif %}{{ [_minute, _hour, _dayofmonth, month, dayofweek] | join(" ") | cron2human }}{% else %}{{ execution | capitalize | translate }}{% endif %}'},{name:(0,e.J)("Command"),prop:"command",cellTemplateName:"text",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Tags"),prop:"comment",cellTemplateName:"chip",cellTemplateConfig:{separator:","},flexGrow:1,sortable:!0}],sorters:[{dir:"asc",prop:"enable"}],store:{proxy:{service:"ShareMgmt",get:{method:"enumerateAllScheduledSnapshotTasks"}}},actions:[{template:"edit",execute:{type:"url",url:"/system/cron/edit/{{ _selected[0].uuid }}"}},{template:"delete",execute:{type:"request",request:{service:"Cron",method:"delete",params:{uuid:"{{ uuid }}"}}}}],buttons:[{template:"back",url:"/storage/shared-folders"}]}},{label:(0,e.J)("Settings"),type:"form",config:{request:{service:"ShareMgmt",get:{method:"getSnapshotLifecycle"},post:{method:"setSnapshotLifecycle"}},fields:[{type:"checkbox",name:"enable",label:(0,e.J)("Enable automatic snapshot clean up."),value:!1},{type:"numberInput",name:"retentionperiod",label:(0,e.J)("Retention period"),hint:(0,e.J)("The retention period (in seconds) before a snapshot can be deleted. This ensures that a snapshot that has just been created cannot be deleted again immediately."),value:1800,validators:{min:0,max:65535,patternType:"integer"}},{type:"numberInput",name:"limitcustom",label:(0,e.J)("Limit custom"),hint:(0,e.J)("The number of custom snapshots to keep."),value:10,validators:{min:0,max:1024,patternType:"integer"}},{type:"numberInput",name:"limithourly",label:(0,e.J)("Limit hourly"),hint:(0,e.J)("The number of hourly snapshots to keep."),value:24,validators:{min:0,max:1024,patternType:"integer"}},{type:"numberInput",name:"limitdaily",label:(0,e.J)("Limit daily"),hint:(0,e.J)("The number of daily snapshots to keep."),value:7,validators:{min:0,max:1024,patternType:"integer"}},{type:"numberInput",name:"limitweekly",label:(0,e.J)("Limit weekly"),hint:(0,e.J)("The number of weekly snapshots to keep."),value:4,validators:{min:0,max:1024,patternType:"integer"}},{type:"numberInput",name:"limitmonthly",label:(0,e.J)("Limit monthly"),hint:(0,e.J)("The number of monthly snapshots to keep."),value:12,validators:{min:0,max:1024,patternType:"integer"}},{type:"numberInput",name:"limityearly",label:(0,e.J)("Limit yearly"),hint:(0,e.J)("The number of yearly snapshots to keep."),value:1,validators:{min:0,max:1024,patternType:"integer"}}],buttons:[{template:"submit"},{template:"back",execute:{type:"url",url:"/storage/shared-folders"}}]}}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-tabs-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[S.E],encapsulation:2}),t})(),oe=(()=>{class t{constructor(){this.config={stateId:"c0a05d92-2d72-11ea-9b29-33dda9c523cc",autoReload:!1,hasSearchField:!0,remoteSorting:!0,remotePaging:!0,sorters:[{dir:"asc",prop:"name"}],store:{proxy:{service:"ShareMgmt",get:{method:"getList"}},transform:{absdirpath:'/{{ [mntent.dir, reldirpath] | map("strip", "/")  | compact() | join("/") }}'}},rowEnumFmt:"{{ name }}",columns:[{name:(0,e.J)("Name"),prop:"name",flexGrow:1,sortable:!0},{name:(0,e.J)("Device"),prop:"device",flexGrow:1,sortable:!0},{name:(0,e.J)("Relative Path"),prop:"reldirpath",flexGrow:1,sortable:!0},{name:(0,e.J)("Absolute Path"),prop:"absdirpath",flexGrow:2,sortable:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Referenced"),prop:"_used",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"},{name:(0,e.J)("Tags"),prop:"comment",cellTemplateName:"chip",cellTemplateConfig:{separator:","},flexGrow:1,sortable:!0}],actions:[{template:"create",execute:{type:"url",url:"/storage/shared-folders/create"}},{template:"edit",execute:{type:"url",url:"/storage/shared-folders/edit/{{ _selected[0].uuid }}"}},{type:"iconButton",icon:"mdi:folder-key",tooltip:(0,e.J)("Permissions"),enabledConstraints:{minSelected:1,maxSelected:1},execute:{type:"url",url:"/storage/shared-folders/permissions/{{ _selected[0].uuid }}"}},{type:"iconButton",icon:"mdi:format-list-checks",tooltip:(0,e.J)("Access control list"),enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"truthy",arg0:{prop:"mntent.posixacl"}}]},execute:{type:"url",url:"/storage/shared-folders/acl/{{ _selected[0].uuid }}"}},{type:"iconButton",icon:"mdi:camera",tooltip:(0,e.J)("Snapshots"),enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"truthy",arg0:{prop:"snapshots"}}]},execute:{type:"url",url:"/storage/shared-folders/snapshots/{{ _selected[0].uuid }}"}},{template:"delete",enabledConstraints:{constraint:[{operator:"falsy",arg0:{prop:"_used"}}]},execute:{type:"request",request:{service:"ShareMgmt",method:"delete",params:{uuid:"{{ uuid }}",recursive:!1}}}},{type:"divider"},{type:"iconButton",icon:"mdi:camera",tooltip:(0,e.J)("All Snapshots"),execute:{type:"url",url:"/storage/shared-folders/snapshots"}}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-datatable-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[d.N],encapsulation:2}),t})(),U=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"ShareMgmt",get:{method:"get",params:{uuid:"{{ _routeParams.uuid }}"}},post:{method:"set"}},fields:[{type:"confObjUuid"},{type:"textInput",name:"name",label:(0,e.J)("Name"),value:"",updateOn:"blur",modifiers:[{type:"disabled",constraint:{operator:"ne",arg0:{prop:"uuid"},arg1:"{{ newconfobjuuid }}"}}],validators:{required:!0,patternType:"shareName"}},{type:"select",name:"mntentref",label:(0,e.J)("File system"),placeholder:(0,e.J)("Select a file system ..."),hint:(0,e.J)("The file system on which the shared folder is to be created."),valueField:"uuid",textField:"description",store:{proxy:{service:"ShareMgmt",get:{method:"getCandidates"}},sorters:[{dir:"asc",prop:"description"}]},validators:{required:!0}},{type:"folderBrowser",name:"reldirpath",label:(0,e.J)("Relative path"),hint:(0,e.J)("The relative path of the folder to share. The specified folder will be created if it does not exist."),value:"",dirType:"mntent",dirRefIdField:"mntentref",modifiers:[{type:"value",typeConfig:'{{ name | rstrip("/") }}/',constraint:{operator:"and",arg0:{operator:"notEmpty",arg0:{prop:"name"}},arg1:{operator:"empty",arg0:{prop:"reldirpath"}}}}],validators:{required:!0}},{type:"select",name:"mode",label:(0,e.J)("Permissions"),placeholder:(0,e.J)("Select permissions ..."),hint:(0,e.J)("The file mode of the shared folder path."),value:"775",store:{data:[["700",(0,e.J)("Administrator: read/write, Users: no access, Others: no access")],["750",(0,e.J)("Administrator: read/write, Users: read-only, Others: no access")],["770",(0,e.J)("Administrator: read/write, Users: read/write, Others: no access")],["755",(0,e.J)("Administrator: read/write, Users: read-only, Others: read-only")],["775",(0,e.J)("Administrator: read/write, Users: read/write, Others: read-only")],["777",(0,e.J)("Everyone: read/write")]]},modifiers:[{type:"visible",constraint:{operator:"eq",arg0:{prop:"uuid"},arg1:"{{ newconfobjuuid }}"}}],validators:{required:!0}},{type:"tagInput",name:"comment",label:(0,e.J)("Tags"),value:""}],buttons:[{template:"submit",execute:{type:"url",url:"/storage/shared-folders"}},{template:"cancel",execute:{type:"url",url:"/storage/shared-folders"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})(),re=(()=>{class t{constructor(a,s,i){this.router=a,this.rpcService=s,this.notificationService=i,this.config={stateId:"99f40468-8309-11ea-834f-cbe87c99180b",autoReload:!1,limit:0,hasFooter:!1,hasSearchField:!0,hints:[{type:"info",text:(0,e.J)("These settings are used by the services to configure the user and group access rights. Please note that these settings have no effect on file system permissions.")}],selectionType:"none",columns:[{name:(0,e.J)("Name"),prop:"name",flexGrow:2,sortable:!0},{name:(0,e.J)("Type"),prop:"type",flexGrow:1,sortable:!0,cellTemplateName:"chip",cellTemplateConfig:{map:{user:{value:(0,e.J)("User")},group:{value:(0,e.J)("Group")}}}},{name:(0,e.J)("Permissions"),prop:"perms",flexGrow:3,sortable:!0,cellTemplateName:"buttonToggle",cellTemplateConfig:{buttons:[{value:"7",text:(0,e.J)("Read/Write")},{value:"5",text:(0,e.J)("Read-only")},{value:"0",text:(0,e.J)("No access")}]}}],sorters:[{dir:"desc",prop:"type"},{dir:"asc",prop:"name"}],store:{proxy:{service:"ShareMgmt",get:{method:"getPrivileges",params:{uuid:"{{ _routeParams.uuid }}"}}}},actions:[{type:"iconButton",icon:"mdi:transfer",tooltip:(0,e.J)("Copy permissions"),execute:{type:"formDialog",formDialog:{title:(0,e.J)("Copy permissions"),fields:[{type:"sharedFolderSelect",name:"src",store:{filters:[{operator:"ne",arg0:{prop:"uuid"},arg1:"{{ _routeParams.uuid }}"}]},hasCreateButton:!1,label:(0,e.J)("Source"),hint:(0,e.J)("The shared folder from which the permissions are copied."),validators:{required:!0}},{type:"hidden",name:"dst",value:"{{ _routeParams.uuid }}"}],buttons:{submit:{text:(0,e.J)("Copy"),execute:{type:"request",request:{service:"ShareMgmt",method:"copyPrivileges",successNotification:(0,e.J)("Shared folder permissions have been copied.")}}}}}}}],buttons:[{template:"cancel",url:"/storage/shared-folders"},{text:(0,e.J)("Save"),class:"omv-background-color-pair-primary",click:this.onSave.bind(this)}]}}onSave(){const a=l.map(l.reject(this.page.table.data,["perms",null]),s=>({name:s.name,type:s.type,perms:l.toInteger(s.perms)}));this.rpcService.request("ShareMgmt","setPrivileges",{uuid:l.get(this.page.routeParams,"uuid"),privileges:a}).subscribe(()=>{this.notificationService.show(G.k.success,(0,b.WU)(l.get(this.page.routeConfig,"data.notificationTitle"),this.page.routeParams)),this.router.navigate(["/storage/shared-folders"])})}}return t.\u0275fac=function(a){return new(a||t)(o.Y36(v.F0),o.Y36(M.G),o.Y36(I.g))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(a,s){if(1&a&&o.Gf(d.N,7),2&a){let i;o.iGM(i=o.CRH())&&(s.page=i.first)}},decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-datatable-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[d.N],encapsulation:2}),t})(),se=(()=>{class t{constructor(){this.config={tabs:[{label:(0,e.J)("Snapshots"),type:"datatable",config:{stateId:"7fcc8590-a2e3-11ed-ac0f-238d9ec75eda",autoReload:!1,limit:0,hasFooter:!0,hasSearchField:!1,selectionType:"multi",columns:[{name:(0,e.J)("ID"),prop:"id",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Name"),prop:"name",flexGrow:2,sortable:!0},{name:(0,e.J)("Creation Time"),prop:"otimets",flexGrow:1,sortable:!0,cellTemplateName:"localeDateTime"},{name:(0,e.J)("UUID"),prop:"uuid",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Parent UUID"),prop:"parent_uuid",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Relative Path"),prop:"path",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Absolute Path"),prop:"abspath",flexGrow:1,sortable:!0,hidden:!0,cellTemplateName:"copyToClipboard"},{name:(0,e.J)("Referenced"),prop:"_used",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"}],sorters:[{dir:"asc",prop:"name"}],store:{proxy:{service:"ShareMgmt",get:{method:"enumerateSnapshots",params:{uuid:"{{ _routeParams.uuid }}"}}}},actions:[{template:"create",execute:{type:"request",request:{service:"ShareMgmt",method:"createSnapshot",params:{uuid:"{{ _routeParams.uuid }}"},successNotification:(0,e.J)("The snapshot '{{ _response.name }}' has been created for the shared folder '{{ _response.sharedfolder }}'.")}}},{type:"iconButton",icon:"share",tooltip:(0,e.J)("Share"),enabledConstraints:{minSelected:1,maxSelected:1,constraint:[{operator:"falsy",arg0:{prop:"_used"}}]},execute:{type:"request",request:{service:"ShareMgmt",method:"fromSnapshot",params:{uuid:"{{ _routeParams.uuid }}",id:"{{ id }}"},successNotification:(0,e.J)("The shared folder {{ _selected[0].name }} was successfully created.")}}},{template:"delete",enabledConstraints:{constraint:[{operator:"falsy",arg0:{prop:"_used"}}]},execute:{type:"request",request:{service:"ShareMgmt",method:"deleteSnapshot",params:{uuid:"{{ _routeParams.uuid }}",id:"{{ id }}"}}}}],buttons:[{template:"back",url:"/storage/shared-folders"}]}},{label:(0,e.J)("Scheduled Tasks"),type:"datatable",config:{stateId:"5762ee82-ad1f-11ed-98df-0b261daceb5d",autoReload:!1,limit:0,hasFooter:!0,hasSearchField:!1,selectionType:"multi",columns:[{name:(0,e.J)("Enabled"),prop:"enable",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"},{name:(0,e.J)("Scheduling"),prop:"",flexGrow:1,cellTemplateName:"template",cellTemplateConfig:'{% if execution == "exactly" %}{% set _minute = minute %}{% set _hour = hour %}{% set _dayofmonth = dayofmonth %}{% if everynminute %}{% set _minute %}*/{{ minute }}{% endset %}{% endif %}{% if everynhour %}{% set _hour %}*/{{ hour }}{% endset %}{% endif %}{% if everyndayofmonth %}{% set _dayofmonth %}*/{{ dayofmonth }}{% endset %}{% endif %}{{ [_minute, _hour, _dayofmonth, month, dayofweek] | join(" ") | cron2human }}{% else %}{{ execution | capitalize | translate }}{% endif %}'},{name:(0,e.J)("Command"),prop:"command",cellTemplateName:"text",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Tags"),prop:"comment",cellTemplateName:"chip",cellTemplateConfig:{separator:","},flexGrow:1,sortable:!0}],sorters:[{dir:"asc",prop:"enable"}],store:{proxy:{service:"ShareMgmt",get:{method:"enumerateScheduledSnapshotTasks",params:{uuid:"{{ _routeParams.uuid }}"}}}},actions:[{type:"menu",icon:"add",tooltip:(0,e.J)("Create"),actions:[{text:(0,e.J)("Hourly"),execute:{type:"request",request:{service:"ShareMgmt",method:"createScheduledSnapshotTask",params:{uuid:"{{ _routeParams.uuid }}",execution:"hourly"},successNotification:(0,e.J)("A scheduled task to create a snapshot has been created.")}}},{text:(0,e.J)("Daily"),execute:{type:"request",request:{service:"ShareMgmt",method:"createScheduledSnapshotTask",params:{uuid:"{{ _routeParams.uuid }}",execution:"daily"},successNotification:(0,e.J)("A scheduled task to create a snapshot has been created.")}}},{text:(0,e.J)("Weekly"),execute:{type:"request",request:{service:"ShareMgmt",method:"createScheduledSnapshotTask",params:{uuid:"{{ _routeParams.uuid }}",execution:"weekly"},successNotification:(0,e.J)("A scheduled task to create a snapshot has been created.")}}},{text:(0,e.J)("Monthly"),execute:{type:"request",request:{service:"ShareMgmt",method:"createScheduledSnapshotTask",params:{uuid:"{{ _routeParams.uuid }}",execution:"monthly"},successNotification:(0,e.J)("A scheduled task to create a snapshot has been created.")}}},{text:(0,e.J)("Yearly"),execute:{type:"request",request:{service:"ShareMgmt",method:"createScheduledSnapshotTask",params:{uuid:"{{ _routeParams.uuid }}",execution:"yearly"},successNotification:(0,e.J)("A scheduled task to create a snapshot has been created.")}}}]},{template:"edit",execute:{type:"url",url:"/system/cron/edit/{{ _selected[0].uuid }}"}},{template:"delete",execute:{type:"request",request:{service:"Cron",method:"delete",params:{uuid:"{{ uuid }}"}}}}],buttons:[{template:"back",url:"/storage/shared-folders"}]}}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-tabs-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[S.E],encapsulation:2}),t})(),ne=(()=>{class t{constructor(){this.config={autoReload:!1,stateId:"453b944e-4d7c-11ea-b897-2bd8eeecbd33",sorters:[{dir:"asc",prop:"devicefile"}],store:{proxy:{service:"Smart",get:{method:"getListBg",task:!0}},transform:{temperature:"{% if temperature %}{{ temperature }} \xb0C{% endif %}"}},columns:[{name:(0,e.J)("Monitored"),prop:"monitor",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"},{name:(0,e.J)("Device"),prop:"canonicaldevicefile",flexGrow:1,sortable:!0},{name:(0,e.J)("Device Symlinks"),prop:"devicelinks",flexGrow:2,sortable:!1,hidden:!0,cellTemplateName:"unsortedList"},{name:(0,e.J)("Model"),prop:"model",flexGrow:1,sortable:!0},{name:(0,e.J)("Vendor"),prop:"vendor",flexGrow:1,sortable:!0},{name:(0,e.J)("Serial Number"),prop:"serialnumber",flexGrow:1,sortable:!0},{name:(0,e.J)("WWN"),prop:"wwn",flexGrow:1,sortable:!0,hidden:!0},{name:(0,e.J)("Capacity"),prop:"size",flexGrow:1,sortable:!0,cellTemplateName:"binaryUnit"},{name:(0,e.J)("Temperature"),prop:"temperature",flexGrow:1,sortable:!0},{name:(0,e.J)("Status"),prop:"overallstatus",flexGrow:1,sortable:!0,cellTemplateName:"chip",cellTemplateConfig:{map:{GOOD:{value:(0,e.J)("Good"),class:"omv-background-color-pair-success"},BAD_STATUS:{value:(0,e.J)("Unknown")},BAD_ATTRIBUTE_NOW:{value:(0,e.J)("Bad"),class:"omv-background-color-pair-error",tooltip:(0,e.J)("Device is being used outside design parameters.")},BAD_ATTRIBUTE_IN_THE_PAST:{value:(0,e.J)("Bad"),class:"omv-background-color-pair-error",tooltip:(0,e.J)("Device was used outside of design parameters in the past.")},BAD_SECTOR:{value:(0,e.J)("Warning"),class:"omv-background-color-pair-warning",tooltip:(0,e.J)("Device has a few bad sectors.")},BAD_SECTOR_MANY:{value:(0,e.J)("Bad"),class:"omv-background-color-pair-error",tooltip:(0,e.J)("Device has many bad sectors.")}}}}],actions:[{template:"edit",execute:{type:"url",url:'/storage/smart/devices/{{ "create" if _selected[0].uuid == newconfobjuuid else "edit" }}/{{ _selected[0].uuid }}/{{ _selected[0].devicefile | encodeuricomponent }}'}},{type:"iconButton",icon:"details",tooltip:(0,e.J)("Show details"),enabledConstraints:{minSelected:1,maxSelected:1},execute:{type:"url",url:"/storage/smart/devices/details/{{ _selected[0].devicefile | encodeuricomponent }}"}}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-datatable-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[d.N],encapsulation:2}),t})(),ie=(()=>{class t{constructor(){this.config={tabs:[{label:(0,e.J)("Device Information"),type:"form",config:{request:{service:"Smart",get:{method:"getInformation",params:{devicefile:"{{ _routeParams.devicefile }}"},transform:{poweronhours:"{% if poweronhours %}{{ (poweronhours / 24) | round(1) }} d{% endif %}",temperature:"{% if temperature %}{{ temperature }} \xb0C{% endif %}"}}},fields:[{type:"textInput",name:"devicefile",label:(0,e.J)("Device"),disabled:!0},{type:"textInput",name:"devicemodel",label:(0,e.J)("Model"),disabled:!0},{type:"textInput",name:"serialnumber",label:(0,e.J)("Serial number"),disabled:!0},{type:"textInput",name:"wwn",label:(0,e.J)("WWN"),disabled:!0},{type:"textInput",name:"firmwareversion",label:(0,e.J)("Firmware version"),disabled:!0},{type:"textInput",name:"powercycles",label:(0,e.J)("Power cycle count"),disabled:!0},{type:"textInput",name:"poweronhours",label:(0,e.J)("Powered on"),disabled:!0},{type:"textInput",name:"temperature",label:(0,e.J)("Temperature"),disabled:!0}]}},{label:(0,e.J)("Attributes"),type:"datatable",config:{autoReload:!1,stateId:"7a0f3b78-4dc0-11ea-a8af-fb0e090c7ceb",hasFooter:!1,sorters:[{dir:"asc",prop:"id"}],store:{proxy:{service:"Smart",get:{method:"getAttributes",params:{devicefile:"{{ _routeParams.devicefile }}"}}}},columns:[{name:(0,e.J)("ID"),prop:"id",flexGrow:1},{name:(0,e.J)("Name"),prop:"attrname",flexGrow:1},{name:(0,e.J)("Flags"),prop:"flags",flexGrow:1},{name:(0,e.J)("Value"),prop:"value",flexGrow:1},{name:(0,e.J)("Worst"),prop:"worst",flexGrow:1},{name:(0,e.J)("Threshold"),prop:"threshold",flexGrow:1},{name:(0,e.J)("Failed"),prop:"whenfailed",flexGrow:1},{name:(0,e.J)("Raw value"),prop:"rawvalue",flexGrow:1},{name:(0,e.J)("Type"),prop:"prefailure",flexGrow:1,cellTemplateName:"chip",cellTemplateConfig:{map:{true:{value:(0,e.J)("Prefail")},false:{value:(0,e.J)("Old-age")}}}},{name:(0,e.J)("Status"),prop:"assessment",flexGrow:1,cellTemplateName:"chip",cellTemplateConfig:{map:{GOOD:{value:(0,e.J)("Good"),class:"omv-background-color-pair-success"},BAD_STATUS:{value:(0,e.J)("Unknown")},BAD_ATTRIBUTE_NOW:{value:(0,e.J)("Bad"),class:"omv-background-color-pair-error",tooltip:(0,e.J)("Device is being used outside design parameters.")},BAD_ATTRIBUTE_IN_THE_PAST:{value:(0,e.J)("Bad"),class:"omv-background-color-pair-error",tooltip:(0,e.J)("Device was used outside of design parameters in the past.")},BAD_SECTOR:{value:(0,e.J)("Bad"),class:"omv-background-color-pair-error",tooltip:(0,e.J)("Device has a few bad sectors.")},BAD_SECTOR_MANY:{value:(0,e.J)("Bad"),class:"omv-background-color-pair-error",tooltip:(0,e.J)("Device has many bad sectors.")}}}}]}},{label:(0,e.J)("Self-Test Logs"),type:"datatable",config:{autoReload:!1,stateId:"95a1f87e-4dc2-11ea-96be-0baa564da0f5",hasFooter:!1,sorters:[{dir:"asc",prop:"id"}],store:{proxy:{service:"Smart",get:{method:"getSelfTestLogs",params:{devicefile:"{{ _routeParams.devicefile }}"}}}},columns:[{name:(0,e.J)("Num"),prop:"num",flexGrow:1},{name:(0,e.J)("Description"),prop:"description",flexGrow:1},{name:(0,e.J)("Status"),prop:"status",flexGrow:1},{name:(0,e.J)("Remaining"),prop:"remaining",flexGrow:1,cellTemplateName:"template",cellTemplateConfig:"{{ remaining  }}%"},{name:(0,e.J)("Lifetime"),prop:"lifetime",flexGrow:1},{name:(0,e.J)("LBA of first error"),prop:"lbaoffirsterror",flexGrow:1}]}},{label:(0,e.J)("Extended Information"),type:"text",config:{hasCopyToClipboardButton:!0,hasReloadButton:!0,request:{service:"Smart",get:{method:"getExtendedInformation",params:{devicefile:"{{ _routeParams.devicefile }}"}}}}}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-tabs-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[S.E],encapsulation:2}),t})(),B=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"Smart",get:{method:"getDeviceSettings",params:{devicefile:"{{ _routeParams.devicefile }}"}},post:{method:"setDeviceSettings"}},fields:[{type:"confObjUuid"},{type:"hidden",name:"_used"},{type:"select",name:"devicefile",label:(0,e.J)("Device"),valueField:"devicefile",textField:"description",disabled:!0,value:"{{ _routeParams.devicefile }}",store:{proxy:{service:"Smart",get:{method:"enumerateDevices"}}}},{type:"checkbox",name:"enable",label:(0,e.J)("Monitoring enabled"),hint:(0,e.J)("Activate S.M.A.R.T. monitoring for this device. Note that only monitored devices are listed in the scheduled tasks. Monitoring cannot be switched off as long as there are scheduled tasks for this device."),value:!1,modifiers:[{type:"disabled",constraint:{operator:"truthy",arg0:{prop:"_used"}}}]},{type:"divider",title:(0,e.J)("Temperature monitoring")},{type:"select",name:"tempdiff",label:(0,e.J)("Difference"),hint:(0,e.J)("Report if the temperature had changed by at least N degrees Celsius since last report."),value:0,store:{data:[[0,(0,e.J)("Use global settings")],[1,"1 \xb0C"],[2,"2 \xb0C"],[3,"3 \xb0C"],[4,"4 \xb0C"],[5,"5 \xb0C"],[6,"6 \xb0C"],[7,"7 \xb0C"],[8,"8 \xb0C"],[9,"9 \xb0C"],[10,"10 \xb0C"],[11,"11 \xb0C"],[12,"12 \xb0C"],[13,"13 \xb0C"],[14,"14 \xb0C"],[15,"15 \xb0C"]]},validators:{min:0,required:!0}},{type:"select",name:"tempmax",label:(0,e.J)("Maximum"),hint:(0,e.J)("Report if the temperature is greater than or equal to N degrees Celsius."),value:0,store:{data:[[0,(0,e.J)("Use global settings")],[5,"5 \xb0C"],[10,"10 \xb0C"],[15,"15 \xb0C"],[20,"20 \xb0C"],[25,"25 \xb0C"],[30,"30 \xb0C"],[35,"35 \xb0C"],[40,"40 \xb0C"],[45,"45 \xb0C"],[50,"50 \xb0C"],[55,"55 \xb0C"],[60,"60 \xb0C"],[65,"65 \xb0C"],[70,"70 \xb0C"],[75,"75 \xb0C"],[80,"80 \xb0C"],[85,"85 \xb0C"],[90,"90 \xb0C"],[95,"95 \xb0C"],[100,"100 \xb0C"]]},validators:{min:0,required:!0}}],buttons:[{template:"submit",execute:{type:"url",url:"/storage/smart/devices"}},{template:"cancel",execute:{type:"url",url:"/storage/smart/devices"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})(),le=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"Smart",get:{method:"getSettings"},post:{method:"setSettings"}},fields:[{type:"checkbox",name:"enable",label:(0,e.J)("Enabled"),value:!1},{type:"numberInput",name:"interval",label:(0,e.J)("Check interval"),hint:(0,e.J)("Sets the interval between disk checks to N seconds.")+"&nbsp;"+(0,e.J)("Take caution when setting this polling interval to more than sixty minutes. The poll times may fail to coincide with any of the scheduled test that have been specified. In this case the scheduled test will be run following the next device polling."),value:1800,validators:{min:10,patternType:"integer",required:!0}},{type:"select",name:"powermode",label:(0,e.J)("Power mode"),hint:(0,e.J)("Prevent a disk from being spun-up when it is periodically polled.<ul><li>Never - Poll (check) the device regardless of its power mode. This may cause a disk which is spun-down to be spun-up when it is checked.</li><li>Sleep - Check the device unless it is in SLEEP mode.</li><li>Standby - Check the device unless it is in SLEEP or STANDBY mode. In these modes most disks are not spinning, so if you want to prevent a disk from spinning up each poll, this is probably what you want.</li><li>Idle - Check the device unless it is in SLEEP, STANDBY or IDLE mode. In the IDLE state, most disks are still spinning, so this is probably not what you want.</li></ul>"),value:"standby",store:{data:[["never",(0,e.J)("Never")],["sleep",(0,e.J)("Sleep")],["standby",(0,e.J)("Standby")],["idle",(0,e.J)("Idle")]]}},{type:"divider",title:(0,e.J)("Temperature monitoring")},{type:"select",name:"tempdiff",label:(0,e.J)("Difference"),hint:(0,e.J)("Report if the temperature had changed by at least N degrees Celsius since last report."),value:0,store:{data:[[0,(0,e.J)("Disabled")],[1,"1 \xb0C"],[2,"2 \xb0C"],[3,"3 \xb0C"],[4,"4 \xb0C"],[5,"5 \xb0C"],[6,"6 \xb0C"],[7,"7 \xb0C"],[8,"8 \xb0C"],[9,"9 \xb0C"],[10,"10 \xb0C"],[11,"11 \xb0C"],[12,"12 \xb0C"],[13,"13 \xb0C"],[14,"14 \xb0C"],[15,"15 \xb0C"]]},validators:{min:0,required:!0}},{type:"select",name:"tempmax",label:(0,e.J)("Maximum"),hint:(0,e.J)("Report if the temperature is greater than or equal to N degrees Celsius."),value:0,store:{data:[[0,(0,e.J)("Disabled")],[5,"5 \xb0C"],[10,"10 \xb0C"],[15,"15 \xb0C"],[20,"20 \xb0C"],[25,"25 \xb0C"],[30,"30 \xb0C"],[35,"35 \xb0C"],[40,"40 \xb0C"],[45,"45 \xb0C"],[50,"50 \xb0C"],[55,"55 \xb0C"],[60,"60 \xb0C"],[65,"65 \xb0C"],[70,"70 \xb0C"],[75,"75 \xb0C"],[80,"80 \xb0C"],[85,"85 \xb0C"],[90,"90 \xb0C"],[95,"95 \xb0C"],[100,"100 \xb0C"]]},validators:{min:0,required:!0}}],buttons:[{template:"submit"},{template:"cancel",execute:{type:"url",url:"/storage/smart"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})(),ce=(()=>{class t{constructor(){this.config={autoReload:!1,stateId:"97ec21be-4d8a-11ea-b4b9-e33289777918",sorters:[{dir:"asc",prop:"devicefile"}],store:{proxy:{service:"Smart",get:{method:"getScheduleList"}}},columns:[{name:(0,e.J)("Enabled"),prop:"enable",flexGrow:1,sortable:!0,cellTemplateName:"checkIcon"},{name:(0,e.J)("Device"),prop:"devicefile",flexGrow:1,sortable:!0},{name:(0,e.J)("Type"),prop:"type",flexGrow:1,sortable:!0,cellTemplateName:"chip",cellTemplateConfig:{map:{S:{value:(0,e.J)("Short self-test")},L:{value:(0,e.J)("Long self-test")},C:{value:(0,e.J)("Conveyance self-test")},O:{value:(0,e.J)("Offline immediate test")}}}},{name:(0,e.J)("Scheduling"),prop:"",flexGrow:1,cellTemplateName:"template",cellTemplateConfig:"{{ hour }} {{ dayofmonth }} {{ month }} {{ dayofweek }}"},{name:(0,e.J)("Tags"),prop:"comment",cellTemplateName:"chip",cellTemplateConfig:{separator:","},flexGrow:1,sortable:!0}],actions:[{template:"create",execute:{type:"url",url:"/storage/smart/tasks/create"}},{template:"edit",execute:{type:"url",url:"/storage/smart/tasks/edit/{{ _selected[0].uuid }}"}},{type:"iconButton",icon:"start",tooltip:(0,e.J)("Run"),enabledConstraints:{minSelected:1,maxSelected:1},execute:{type:"taskDialog",taskDialog:{config:{title:(0,e.J)("Run scheduled task"),startOnInit:!0,request:{service:"Smart",method:"executeScheduledTest",params:{uuid:"{{ _selected[0].uuid }}"}}}}}},{template:"delete",execute:{type:"request",request:{service:"Smart",method:"deleteScheduledTest",params:{uuid:"{{ uuid }}"}}}}]}}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-datatable-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[d.N],encapsulation:2}),t})(),A=(()=>{class t extends m.Fy{constructor(){super(...arguments),this.config={request:{service:"Smart",get:{method:"getScheduledTest",params:{uuid:"{{ _routeParams.uuid }}"}},post:{method:"setScheduledTest"}},fields:[{type:"confObjUuid"},{type:"checkbox",name:"enable",label:(0,e.J)("Enabled"),value:!0},{type:"select",name:"devicefile",label:(0,e.J)("Device"),placeholder:(0,e.J)("Select a device ..."),hint:(0,e.J)("S.M.A.R.T. monitoring must be activated for the selected device."),valueField:"devicefile",textField:"description",store:{proxy:{service:"Smart",get:{method:"enumerateMonitoredDevices"}},sorters:[{dir:"asc",prop:"description"}]},validators:{required:!0}},{type:"select",name:"type",label:(0,e.J)("Type"),value:"S",store:{data:[["S",(0,e.J)("Short self-test")],["L",(0,e.J)("Long self-test")],["C",(0,e.J)("Conveyance self-test")],["O",(0,e.J)("Offline immediate test")]]}},{type:"select",name:"hour",label:(0,e.J)("Hour"),value:'{{ moment("H:mm:ss") | split(":") | get(0) }}',store:{data:[["*","*"],["00","0"],["01","1"],["02","2"],["03","3"],["04","4"],["05","5"],["06","6"],["07","7"],["08","8"],["09","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"],["21","21"],["22","22"],["23","23"]]}},{type:"select",name:"dayofmonth",label:(0,e.J)("Day of month"),value:"*",store:{data:[["*","*"],["01","1"],["02","2"],["03","3"],["04","4"],["05","5"],["06","6"],["07","7"],["08","8"],["09","9"],["10","10"],["11","11"],["12","12"],["13","13"],["14","14"],["15","15"],["16","16"],["17","17"],["18","18"],["19","19"],["20","20"],["21","21"],["22","22"],["23","23"],["24","24"],["25","25"],["26","26"],["27","27"],["28","28"],["29","29"],["30","30"],["31","31"]]}},{type:"select",name:"month",label:(0,e.J)("Month"),value:"*",store:{data:[["*","*"],["01",(0,e.J)("January")],["02",(0,e.J)("February")],["03",(0,e.J)("March")],["04",(0,e.J)("April")],["05",(0,e.J)("May")],["06",(0,e.J)("June")],["07",(0,e.J)("July")],["08",(0,e.J)("August")],["09",(0,e.J)("September")],["10",(0,e.J)("October")],["11",(0,e.J)("November")],["12",(0,e.J)("December")]]}},{type:"select",name:"dayofweek",label:(0,e.J)("Day of week"),value:"*",store:{data:[["*","*"],["1",(0,e.J)("Monday")],["2",(0,e.J)("Tuesday")],["3",(0,e.J)("Wednesday")],["4",(0,e.J)("Thursday")],["5",(0,e.J)("Friday")],["6",(0,e.J)("Saturday")],["7",(0,e.J)("Sunday")]]}},{type:"tagInput",name:"comment",label:(0,e.J)("Tags"),value:""}],buttons:[{template:"submit",execute:{type:"url",url:"/storage/smart/tasks"}},{template:"cancel",execute:{type:"url",url:"/storage/smart/tasks"}}]}}}return t.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],features:[o.qOj],decls:1,vars:1,consts:[[3,"config"]],template:function(a,s){1&a&&o._UZ(0,"omv-intuition-form-page",0),2&a&&o.Q6J("config",s.config)},dependencies:[u.g],encapsulation:2}),t})();var p=n(1885);const C=[{path:"",component:w.Z},{path:"disks",data:{title:(0,e.J)("Disks")},children:[{path:"",component:Q},{path:"hdparm/create/:devicefile",component:P,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!1}},{path:"hdparm/edit/:uuid",component:P,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!0}}]},{path:"smart",data:{title:(0,e.J)("S.M.A.R.T.")},children:[{path:"",component:w.Z},{path:"settings",component:le,canDeactivate:[p.e],data:{title:(0,e.J)("Settings"),editing:!0}},{path:"devices",data:{title:(0,e.J)("Devices")},children:[{path:"",component:ne},{path:"details/:devicefile",component:ie,data:{title:(0,e.J)("Details"),editing:!0}},{path:"create/:uuid/:devicefile",component:B,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!1}},{path:"edit/:uuid/:devicefile",component:B,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!0}}]},{path:"tasks",data:{title:(0,e.J)("Scheduled Tasks")},children:[{path:"",component:ce},{path:"create",component:A,canDeactivate:[p.e],data:{title:(0,e.J)("Create"),editing:!1}},{path:"edit/:uuid",component:A,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!0}}]}]},{path:"shared-folders",data:{title:(0,e.J)("Shared Folders")},children:[{path:"",component:oe},{path:"create",component:U,canDeactivate:[p.e],data:{title:(0,e.J)("Create"),editing:!1}},{path:"edit/:uuid",component:U,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!0,notificationTitle:(0,e.J)("Updated shared folder.")}},{path:"permissions/:uuid",component:re,data:{title:(0,e.J)("Permissions"),breadcrumb:{text:'{{ "Permissions" | translate }} @ {{ name }}',request:{service:"ShareMgmt",method:"get",params:{uuid:"{{ _routeParams.uuid }}"}}},notificationTitle:(0,e.J)("Updated permissions of shared folder.")}},{path:"acl/:uuid",component:te,canDeactivate:[p.e],data:{title:(0,e.J)("ACL"),notificationTitle:(0,e.J)("Updated access control list of shared folder.")}},{path:"snapshots",component:ae,data:{title:(0,e.J)("All Snapshots"),editing:!0}},{path:"snapshots/:uuid",component:se,data:{title:(0,e.J)("Snapshots"),breadcrumb:{text:'{{ "Snapshots" | translate }} @ {{ name }}',request:{service:"ShareMgmt",method:"get",params:{uuid:"{{ _routeParams.uuid }}"}}}}}]},{path:"filesystems",data:{title:(0,e.J)("File Systems")},children:[{path:"",component:g},{path:"mount",component:X,canDeactivate:[p.e],data:{title:(0,e.J)("Mount"),editing:!1}},{path:"edit/:fsname",component:z,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!0,notificationTitle:(0,e.J)("Updated file system settings.")}},{path:"quota/:uuid",data:{title:(0,e.J)("Quota")},children:[{path:"",component:Y},{path:"edit/:type/:name",component:H,canDeactivate:[p.e],data:{title:(0,e.J)("Edit"),editing:!0,notificationTitle:(0,e.J)("Updated quota.")}}]},{path:"details/:devicefile",component:Z,data:{title:(0,e.J)("Details"),breadcrumb:{text:'{{ "Details" | translate }} @ {{ _routeParams.devicefile }}'}}}]}];let pe=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:v.Z6,multi:!0,useFactory:r=>(r.inject("storage",C),C),deps:[_.o]}],imports:[v.Bz.forChild(C),v.Bz]}),t})();var me=n(9950);let ue=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[R.ez,E.I,q.q,me.m,pe]}),t})()}}]);